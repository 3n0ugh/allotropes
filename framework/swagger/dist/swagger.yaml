openapi: 3.0.3
info:
  title: Movpic
  contact:
    email: test@email.com
  version: "3.0"
servers:
- url: http://localhost:8080
tags:
- name: Movie
  description: Movie related services
paths:
  /v1/movie/{id}:
    put:
      tags:
      - Movie
      description: Update movie by id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMovieRequest'
        required: false
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateMovieResponse'
        "500":
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: false
        schema:
          type: integer
          format: int32
    delete:
      tags:
      - Movie
      description: Delete movie by id
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteMovieResponse'
        "500":
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: false
        schema:
          type: integer
          format: int32
  /v1/movies:
    get:
      tags:
      - Movie
      description: Get movies by page and size
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MoviesResponse'
        "500":
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
      - bearerAuth: []
      parameters:
      - name: page
        in: query
        required: false
        schema:
          type: integer
          format: int32
      - name: size
        in: query
        required: false
        schema:
          type: integer
          format: int32
    post:
      tags:
      - Movie
      description: Add movie
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddMovieRequest'
        required: false
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AddMovieResponse'
        "500":
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
      - bearerAuth: []
  /v1/movies/{id}:
    get:
      tags:
      - Movie
      description: Get movie by id
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MovieByIDResponse'
        "500":
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: false
        schema:
          type: integer
          format: int32
components:
  schemas:
    "":
      x-swagger-router-model: io.swagger.model.
      properties:
        Department:
          type: string
        Job:
          type: string
        PersonID:
          type: integer
          format: int32
      type: object
    AddMovieRequest:
      x-swagger-router-model: io.swagger.model.AddMovieRequest
      properties:
        movie:
          $ref: '#/components/schemas/Movie'
      type: object
    AddMovieResponse:
      x-swagger-router-model: io.swagger.model.AddMovieResponse
    DeleteMovieRequest:
      x-swagger-router-model: io.swagger.model.DeleteMovieRequest
    DeleteMovieResponse:
      x-swagger-router-model: io.swagger.model.DeleteMovieResponse
    Error:
      x-swagger-router-model: io.swagger.model.Error
      properties:
        message:
          type: string
        statusCode:
          type: integer
          format: int32
        title:
          type: string
      type: object
    Movie:
      x-swagger-router-model: io.swagger.model.Movie
      properties:
        Cast:
          type: array
          items:
            $ref: '#/components/schemas/'
        Company:
          type: array
          items:
            type: string
        Country:
          type: array
          items:
            type: string
        Crew:
          type: array
          items:
            $ref: '#/components/schemas/'
        Genres:
          type: array
          items:
            type: string
        ID:
          type: integer
          format: int32
        Keywords:
          type: array
          items:
            type: string
        Language:
          type: string
        ReleaseDate:
          type: string
          format: date
        Runtime:
          type: integer
          format: int32
        ShortStory:
          type: string
        Story:
          type: string
        Title:
          type: string
      type: object
    MovieByIDRequest:
      x-swagger-router-model: io.swagger.model.MovieByIDRequest
    MovieByIDResponse:
      x-swagger-router-model: io.swagger.model.MovieByIDResponse
      properties:
        movie:
          $ref: '#/components/schemas/Movie'
      type: object
    MoviesRequest:
      x-swagger-router-model: io.swagger.model.MoviesRequest
    MoviesResponse:
      x-swagger-router-model: io.swagger.model.MoviesResponse
      properties:
        movies:
          type: array
          items:
            $ref: '#/components/schemas/Movie'
        pagination:
          $ref: '#/components/schemas/Pagination'
        totalCount:
          type: integer
          format: int32
      type: object
    Pagination:
      x-swagger-router-model: io.swagger.model.Pagination
      properties:
        '-':
          type: integer
          format: int32
        next:
          type: string
        prev:
          type: string
        rel:
          type: string
      type: object
    UpdateMovieRequest:
      x-swagger-router-model: io.swagger.model.UpdateMovieRequest
      properties:
        movie:
          $ref: '#/components/schemas/Movie'
      type: object
    UpdateMovieResponse:
      x-swagger-router-model: io.swagger.model.UpdateMovieResponse
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
